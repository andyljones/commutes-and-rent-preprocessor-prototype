<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head profile="http://www.w3.org/2003/g/data-view">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Dft - TransXChange - Examples 2.1 - Lollipop route</title>
    <meta name="DC.title" content="Examples 2.1 - Lollipop route page for TransXChange"/>
    <meta name="eGMS.title" content=""/>
    <meta name="description" content="" />
    <meta name="language" content="eng" />
    <meta name="DC.description" content="Examples 2.1 - Lollipop route page for TransXChange, an XML protocol to allow remote journey planning engines to communicate in order to provide multimodal journeys spanning different regions."/>
    <meta name="keywords" content="" />
    <meta name="DC.subject" xml:lang="en" scheme="eGMS.IPSV" content=""/>
    <meta name="Author" content="" />
    <meta name="DC.creator" content="Department for Transport, Great Minster House, 76 Marsham Street, London SW1P 4DR"/>
    <meta name="DC.publisher" content="Department for Transport, Great Minster House, 76 Marsham Street, London SW1P 4DR"/>
    <meta name="DCTERMS.created" scheme="DCTERMS.W3CDTF" content=""/>
    <meta name="DCTERMS.issued" scheme="DCTERMS.W3CDTF" content=""/>
    <meta name="DCTERMS.modified" scheme="DCTERMS.W3CDTF" content=""/>
    <meta name="eGMS.disposalReview" scheme="DCTERMS.W3CDTF" content=""/>
    <meta name="DC.format" scheme="DCTERMS.IMT" content="text/html"/>
    <meta name="DC.type" scheme="eGMS.TES" content=""/>
    <meta name="DC.type.category" lang="en" content="" />
    <meta name="DC.type" scheme="DCTERMS.DCMIType" content="Text"/>
    <meta name="DC.type" scheme="Gov.Body.ContentType" content=""/>
    <meta name="DC.coverage" content="UK"/>
    <meta name="DCTERMS.audience" scheme="eGMS.AES" content=""/>
    <meta name="DC.language" scheme="DCTERMS.ISO639-2" content="eng"/>
    <meta name="DC.identifier" scheme="ISBN" content="" />
    <meta name="DC.identifier" scheme="DCTERMS.URI" content=""/>
    <meta name="eGMS.copyright" content="Crown copyright http://www.dft.gov.uk/terms/copyright" />
    <meta name="eGMS.accessibility" scheme="eGMS.WCAG10" content="Double-A"/>
    <link rel="transformation" href="http://www.nationalarchives.gov.uk/metadata/egms-extract/egms-extract.xsl" />
    <link rel="stylesheet" type="text/css" media="screen, projection" href="../../../../_format/_styles/basic.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="../../../../_format/_styles/screen.css" />
    <link rel="stylesheet" type="text/css" media="print" href="../../../../_format/_styles/print.css" />
</head>

<body id="top" class="psx">
<div id="mainWrapper">
    <ul id="mainNav">
        <li><a href="http://www.dft.gov.uk/about/">About DfT</a></li>
        <li><a href="http://www.dft.gov.uk/pgr/">Policy, guidance and research</a></li>
        <li><a href="http://www.dft.gov.uk/consultations/">Consultations</a></li>
        <li><a href="http://www.dft.gov.uk/press/">Press office</a></li>
        <li><a href="http://www.dft.gov.uk/faqs/">FAQs</a></li>
        <li><a href="http://www.dft.gov.uk/press/ministers/">Ministers</a></li>
    </ul>

<div id="wrapper">
    <div id="widthWrapper" class="clearfix">
        <div id="pageWrapper">
            <div id="crumbs">
                <div>
                    <a class="first" href="http://www.dft.gov.uk/">DfT home</a>
                    <img src="../../../../_format/_images/gifs/crumb-arrow.gif" alt=" "/>&nbsp;&nbsp;<a href="http://www.dft.gov.uk/public-transportdatastandards/">Public Transport XML Standards index</a>
                    <img src="../../../../_format/_images/gifs/crumb-arrow.gif" alt=" "/>&nbsp;&nbsp;<a href="http://www.dft.gov.uk/transxchange/">TransXChange</a>
                    <img src="../../../../_format/_images/gifs/crumb-arrow.gif" alt=" "/>&nbsp;&nbsp;<a href="#">Examples 2.1 - Lollipop route</a>
                </div>
            </div><!-- crumbs -->

            <div id="contentWrapper">
                <div id="content">
<h1><a name="belowNav" id="belowNav"></a>TransXChange</h1>
<h2>Examples 2.1 - Lollipop route</h2>
<h3>Summary</h3>
<p>Same stops covered by two different routes in different directions in a partial lollipop. See also <a href="../hailandride/index.htm"> Hail and Ride</a> for a full lollipop topology.</p>
<ul>
    <li>Lollipop route, with two journeys proceeding round the loop in opposite directions (In this example neither route completes the full lollipop course)</li>
    <li>Two services run by two different operators, sharing a line label.</li>
    <li>Two different physical routes with the same line label.</li>
    <li>Timing status on stop usage other than 'Principle Timing Point (PTP)</li>
    <li>Additional <a href="#OperatingDays">operating days</a> for regular and bank holiday operation</li>
    <li>Express stopping pattern for some journeys.</li>
    <li>Use of <a href="#sections">Stop Sequence Numbers</a></li>
    <li>Use of Dynamic Destination headings</li>
    <li>Reuse of <a href="#sections">shared sections.</a></li>
    <li>Reuse of VehicleJourney Link</li>
    <li>Layover Point</li>
    <li>General Schema</li>
</ul>
<p>Published as PDF:</p>
<ul>
    <li><a href="lollipop.pdf">PDF general:</a> With<em>publish lollipop.xml -<strong>full</strong></em> TransXchange  <a href="../../../../publisher.htm">publisher</a> option (includes all stops)</li>
    <li><a href="lollipop_vosa.pdf">PDF vosa</a>: With p<em>ublish lollipop.xml -<strong>vosa</strong></em> TransXchange <a href="../../../../publisher.htm">publisher</a> option (includes only stop usages with a timing status of '<em>PTP</em>' )</li>
</ul>
<h3>Route Map</h3>
<p><img src="lollipop.png" width="715" height="372" alt="Lollipop route image" /></p>

<h3>Timetable </h3>
<h4>Bus Station To Exchange</h4>
<table class="grid">
<tr>
<td>Column</td>
<td>#1</td>
<td>#2</td>
<td>#3</td>
<td>#4</td>
<td>#5</td>
</tr>
<tr>
<td>Operator</td>
<td><em>ACO</em></td>
<td><em>ACO</em></td>
<td><em>ACO</em></td>
<td><em>RED</em></td>
<td><em>ACO</em></td>
</tr>
<tr>
<td>Line</td>
<td>1B</td>
<td>1A</td>
<td>1B</td>
<td>1B</td>
<td>1B</td>
</tr>
<tr>
<td><strong>Bus Station</strong></td>
<td>15:55</td>
<td>16:15</td>
<td>16:35</td>
<td>16:40</td>
<td>16:55</td>
</tr>
<tr>
<td><strong>High St</strong></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td><16:46</td>
<td>&#160;</td>
</tr>
<tr>
<td><strong>Robridge</strong></td>
<td>&#160;</td>
<td>16:26</td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr>
<td><strong>Barford</strong></td>
<td>16:09</td>
<td>16:29</td>
<td>16:49</td>
<td>16:54</td>
<td>17:09</td>
</tr>
<tr>
<td><strong>Egham</strong></td>
<td>16:12</td>
<td>&#160;</td>
<td>16:52</td>
<td>16:57</td>
<td>17:12</td>
</tr>
<tr>
<td><strong>Pulford</strong></td>
<td>16:15</td>
<td>&#160;</td>
<td>16:55</td>
<td>17:00</td>
<td>17:15</td>
</tr>
<tr>
<td><strong>Exchange</strong></td>
<td>16:32</td>
<td>16:52</td>
<td>17:12</td>
<td>&#160;</td>
<td>17:32</td>
</tr>
<tr>
<td><strong>School</strong></td>
<td>&#160;</td>
<td>16:53</td>
<td>&#160;</td>
<td>17:16</td>
<td>&#160;</td>
</tr>
<tr>
<td><strong>Exchange</strong></td>
<td>&#160;</td>
<td>&#160;</td>
<td>&#160;</td>
<td>17:17</td>
<td>&#160;</td>
</tr>
</table>
<br /><br />
<h3>The XML Representation</h3><p><a href="lollipop.xml">XML Document </a></p>
<h4 id="Registration">Service Registration</h4>
<ul>
    <li>The service is not registered</li>
    <li>There are two <strong>Operator</strong> instances, <em>'ACO</em>'. and '<em>RED</em>'</li>
</ul>
<h4 id="ServicePattern">Service Structure</h4>
<p>The <a href="#map2">detailed map</a> below shows the sections and stop sequences used.</p>
<ul>
    <li>There are two <strong>Service</strong>instances whose Lines are labelled to appear to the public as the same:
        <ul>
            <li><em>S1</em>, which has two  <strong>Line</strong> instances; <em>L1</em>, labelled '<em>L1A',</em> and<em>L2,</em> labelled <em>'L1B'</em> <em>S1</em> is run by <strong>Operator</strong> <em>'ACO</em>'</li>
            <li><em>S2</em> which has  <strong>Line</strong> <em>L3</em> also  labelled <em>'L1B'</em>. <em>S2</em> is run by <strong>Operator</strong> <em>'RED</em>'</li>
        </ul>
    </li>
    <li>There are three <strong>RouteSection</strong>instances;
        <ul>
            <li><em>RS1: 'Bus Station'</em> to <em>'Pulford'</em>, containing <strong>RouteLink</strong> instances <em>RL1</em> to <em>RL5</em></li>
            <li> <em>RS2: 'Pulford</em>' to <em>'School</em> ' via <em>'Exchange</em>',  containing <strong>RouteLink</strong> instances <em>RL6</em> and <em>RL7</em></li>
            <li> <em>RS3: 'Pulford</em>' to <em>'Exchange'</em> via <em>'School</em>', containing <strong>
RouteLink</strong> instances <em>RL8</em> and <em>RL9</em>.</li>
        </ul>
    <li>There are two <strong>Route</strong>instances:
        <ul>
            <li><em>R1:</em> <em>'Bus Station to School (via Exchange)'</em>, containing <em>RS1</em> and <em>RS2</em>.<li> <em>R2: 'Bus Station to Exchange (via School)'</em>, containing <em>RS1</em> and <em>
RS3</em>.
        </ul>
    </li>
    <li>There are three corresponding <strong>JourneyPatternSection</strong> instances, <em>JS1, JS2</em> and <em>JS3,</em>  one for each route section.
        <ul>
            <li>Egham is not a 'Principle Timing Point' ('<em>PTP</em>'), so for the call at Egham the <strong>JourneyPatternTiminkLink</strong> has an override <strong>TimingStatus</strong> of 'Timing Information Point' ('<em>'TIP</em>')</li>
        </ul>
    </li>
    <li>S1 has two <strong>JourneyPattern</strong>instances:
        <ul>
            <li><em>JP1:</em> Following   <strong>Route</strong> <em>R1,</em> with sections<em>JS1</em> and<em>JS2</em>, passing '<em>Pulford' </em>without stopping</li>
            <li> <em>JP2:</em> Following   <strong>Route</strong> <em>R2,</em> with sections<em>JS1</em> and<em>JS3</em>.</li>
        </ul>
    </li>
    <li>S2 has one <strong>JourneyPattern</strong>instance:
        <ul>
            <li><em>JP3: Also </em>following  <strong>Route</strong> <em>R2,</em> with sections<em>JS1</em> and<em>JS3</em>, passing '<em>Pulford' </em>without stopping. It contains two named layover points <em>lay_1</em> and <em>lay_2.</em></li>
        </ul>
    </li>
    <li>There are five <strong>VehicleJourney</strong> instances, one for each colum</li>
    <li>S1 has three <strong>VehicleJourney</strong> instances:
        <ul>
            <li><em>VJ1:</em> following   <strong>JourneyPattern</strong> <em>JP1</em> over <strong>Route</strong> <em>R1, 'Bus Station to School (via Exchange)'</em> , as <strong>Line</strong> <em>'L1B',</em> passing '<em>High Street'</em> and <em>'Robridge</em>', without stopping. Short working of the second section, i.e. termination at Exchange, is indicated by a dead run.</li>
            <li> <em>VJ2:</em> also following <strong>JourneyPattern</strong> <em>JP1</em> over <strong>Route</strong> <em>R1, 'Bus Station to School (via Exchange)'</em> but as <strong>Line</strong> <em>'L1A',</em> passing '<em>High Street',</em> '<em>Egham'</em> and  '<em>Pulford'</em>  without stopping</li>
            <li> <em>VJ3:</em> reuses the timing links of VJ1, and so also follows   <strong>JourneyPattern</strong> <em>JP1</em> over   <strong>Route</strong> <em>R1, 'Bus Station to School (via Exchange)'</em> </li>
            <li> <em>VJ5:</em> reuses the timingg links of VJ1, and so also follows <strong>JourneyPattern</strong>
<em>JP1</em> over   <strong>Route</strong> <em>R1, 'Bus Station to School (via Exchange)'</em> </li>
        </ul>
    <li>S2 has one <strong>VehicleJourney</strong> instance:
        <ul>
            <li> <em>VJ4:</em> following  <strong>JourneyPattern</strong> <em>JP3</em> over <strong>Route</strong> <em>R2, 'Bus Station to Exchange (via School)'</em>, as <strong>Line</strong> <em>L3</em> , which has the same label of <em>'L1B'</em> as <em>S1/L2 ,</em> although it actually goes round the last two stops in a different sequence from the other journeys with the same label,
and so needs a different underlying <strong>Route</strong>. <em>VJ4</em> passes <em>'Robridge</em>',  without stopping</li>
        </ul>
    </li>
</ul>

<h4 id="OperatingDays">Operating Days</h4>
<ul>
    <li>The <strong>Service operating period</strong> for <em>SV_1</em> starts on<em>01/01/2004</em>  for all vehicle journeys, and continues until 13/06/2005</li>
    <li>The OperatingProfile for the <strong>Service</strong> <em>SV_1</em> states values that apply to all journeys unless overridden on a journey pattern or individual vehicle journey.
        <ul>
            <li>The RegularDayType <strong>DaysOfWeek</strong> specifies journeys of the service   by default runs Monday to Saturday throughout the year</li>
            <li>The <strong>BankHolidayOperation / DaysOfOperation</strong> states journeys of the service run on Jan2ndScotland, MayDay, EasterMonday, SpringBank,   AugustBankHolidayScotland, ChristmasDayHoliday, BoxingDayHoliday and  ChristmasEve.</li>
            <li>The <strong>BankHolidayOperation / DaysOfNonOperation</strong> states journeys of the service do not run on ChristmasDay, BoxingDay, GoodFriday, NewYearsDay, NewYearsDayHoliday and  NewYearsEve.</li>
        </ul>
    </li>
    <li>The Vehicle Journeys VJ1 and VJ5 have a different set of day type specified
        <ul>
            <li>The RegularDayType <strong>DaysOfWeek</strong> specifies journeys of the service run Monday, Wednesday, Friday, Sunday throughout the year</li>
        </ul>
    </li>
    <li>The <strong>Service operating</strong> period for <em>SV_2</em> starts on <em>01/01/2004</em>  for all vehicle journeys, and continues until 13/06/2005</li>
    <li>The <strong>OperatingProfile</strong> for the Service <em>SV_2</em> states values that apply to all journeys unless overridden on a journey pattern or individual vehicle journey.
        <ul>
            <li>The <strong>RegularDayType</strong>  DaysOfWeek specifies journeys of the service by default runs Monday to Sunday throughout the year</li>
            <li>The <strong>BankHolidayOperation / DaysOfNonOperation</strong> states journeys of the service do not run on <strong>Christmas</strong>, ie ChristmasDay, and Boxing day</li>
        </ul>
    </li>
</ul>
<h4 id="sections">Use of Sections &amp; Stop Sequence Numbers</h4>
<p>Sections are used to reuse links between journeys.</p>
<p>Stop sequence numbers are used to coerce a specific ordering of the stops within a matrix timetable when published. The following diagram shows the journey pattern sections annotated with stop section numbers.</p>
<p><a name="map2"><img src="lollipop2.png" width="735" height="516" alt="Lollipop route image" /></a></p>
<p><br />Page last updated: 2013/04/13</p>

                </div><!-- content -->
            </div><!-- contentWrapper -->

        <div id="leftBar">
            <h2>TransXChange</h2>
            <ul class="fade">
                <li><a href="../../../../index.htm">Index</a></li>
                <li><a href="../../../../overview.htm">Overview</a></li>
                <li><a href="../../../../process.htm">Data &#38; Process</a></li>
                <li><a href="../../../../schema/schemas.htm">Downloads &#38; Schema</a></li>
                <li><a href="../../../../documentation.htm">Documentation</a></li>
                <li><a href="../../../../training/EBSR/index.htm">Training Materials</a></li>
                <li><a href="../../../../examples.htm">Examples</a></li>
                <li class="selected"><a href="../index.htm">&#160;&#160;2.1 Route types</a>
                    <ul>
                        <li><a href="../linear/index.htm">Linear</a></li>
                        <li><a href="../express/index.htm">Express</a></li>
                        <li><a href="../interchange/index.htm">Interchange</a></li>
                        <li><a href="../circular/index.htm">Circular</a></li>
                        <li><a href="../cloverleaf/index.htm">Cloverleaf</a></li>
                        <li class="selected">Lollipop</li>
                        <li><a href="../eye/index.htm">Eye</a></li>
                        <li><a href="../flexible/index.htm">Flexible</a></li>
                        <li><a href="../hailandride/index.htm">Hail &#38; Ride</a></li>
                        <li><a href="../large/index.htm">Large</a></li>
                        <li><a href="../mergefrequency/index.htm">Merged Frequency</a></li>
                        <li><a href="../footnotes/index.htm">Footnotes</a></li>
                    </ul>
                </li>
                <li><a href="../../../../ebsrnews/index.htm">EBSR news</a></li>
                <li><a href="../../../../realexamples/index.htm">Sample Documents</a></li>
                <li><a href="../../../../publisher.htm">Publisher</a></li>
                <li><a href="../../../../gtfs.htm">Other Tools</a></li>
                <li><a href="../../../../technicalFaq.htm">Technical FAQ</a></li>
                <li><a href="../../../../versioning.htm">Versioning</a></li>
                <li><a href="../../../../implementations.htm">Implementations</a></li>
                <li><a href="../../../../history.htm">History</a></li>
                <li><a href="../../../../termsOfUse.htm">Terms of Use</a></li>
                <li><a href="../../../../contact.htm">Contact</a></li>
                <li><a href="../../../../copyright.htm">Copyright</a></li>
                <li class="listbreaker">Related UK Standards</li>
                <li><a href="http://www.dft.gov.uk/public-transportdatastandards/">Standards - main index</a></li>
                <li><a href="http://www.dft.gov.uk/nptg/">National PT Gazetteer (NPTG)</a></li>
                <li><a href="http://www.dft.gov.uk/naptan/">NaPTAN</a></li>
                <li class="selected"><a href="http://www.dft.gov.uk/transxchange/">TransXChange</a></li>   <li><a href="http://www.dft.gov.uk/CycleNetXchange/">CycleNetXchange</a></li>  <li><a href="http://data.gov.uk/nptdr/">data.gov.uk NPTDR</a></li>
                <li><a href="http://www.dft.gov.uk/journeyweb/">JourneyWeb</a></li>
        
             
               
                <li class="listbreaker">Related EU Standards</li>
                <li><a href="http://www.dft.gov.uk/transmodel/">TransModel</a></li>
                <li><a href="http://www.siri.org.uk/">SIRI</a></li>
                <li><a href="http://www.netex.org.uk/">NeTEx</a></li>
                <li><a href="http://www.ifopt.org.uk/">IFOPT</a></li>
                
                
            </ul>
        </div><!-- leftBar -->

        </div><!-- pageWrapper -->
    </div><!-- widthWrapper -->

<div id="footer">
    <ul>
        <li class="first"><a target="_top" href="http://www.dft.gov.uk/accessibility">Accessibility</a></li>
        <li><a target="_top" href="http://www.dft.gov.uk/cymraeg">Cymraeg</a></li>
        <li><a target="_top" href="http://www.dft.gov.uk/foi/">Freedom of Information</a></li>
        <li><a target="_top" href="http://www.dft.gov.uk/about/informationcharter/">Information charter</a></li>
        <li><a target="_top" href="http://www.dft.gov.uk/terms/">Terms and conditions</a></li>
        <li><a target="_top" rel="license" href="http://www.dft.gov.uk/terms/copyright">Crown copyright</a></li>
    </ul>
</div><!-- footer -->


</div><!-- wrapper -->
</div><!-- mainWrapper -->

<div id="header">
    <a href="http://www.dft.gov.uk/"><img id="logo" src="../../../../_format/_images/gifs/logo.gif" alt="Department for Transport - Transport that works for everyone." /></a>
    <div id="topNav">
        <ul>
            <li><img id="utm" src="http://www.dft.gov.uk/__utm.gif" alt="" /><a target="_top" href="#belowNav">Skip to main content</a></li>
            <li><a target="_top" href="http://www.dft.gov.uk/results&#63;view&#61;Filter&#38;w&#61;What&#37;27s&#43;new&#38;df&#61;07&#37;2F03&#37;2F09&#38;dt&#61;07&#37;2F04&#37;2F09&#38;pg&#61;1">What's new</a></li>
                <li><a target="_top" href="http://www.dft.gov.uk/publications/cookies/">Cookies</a></li> <li><a target="_top" href="http://www.dft.gov.uk/contact">Contact us</a></li>
            <li><a target="_top" href="http://www.dft.gov.uk/help/">Help</a></li>
            <li><a target="_top" href="http://www.dft.gov.uk/atoz">A to Z index</a></li>
            <li class="last"><a target="_top" href="http://www.dft.gov.uk/sitemap">Site map</a></li>
        </ul>

        <script type="text/javascript" src="../../../../_format/_js/clearField.js"></script>
        <form action="http://dftsearch.dft.gov.uk/search" method="get">
            <label for="searchString" class="accessibility">Search keyword:</label>
            <!-- Google Mini Search Criteria -->
            <input type="hidden" name="client" value="default_frontend"/>
            <input type="hidden" name="proxyreload" value="1"/>
            <input type="hidden" name="proxystylesheet" value="default_frontend"/>
            <input type="hidden" name="output" value="xml_no_dtd"/>
            <input type="text" name="q" id="searchString" value="Enter search term" onclick="doClear(this)"/>
            <input type="hidden" name="pg" id="page" value="1" />
            <input type="submit" value="Search" class="button" />
        </form>
    </div><!-- topNav -->

</div><!-- header -->

<script src="http://www.dft.gov.uk/_format/_js/gatag.js" type="text/javascript"></script>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-733856-2");
    pageTracker._setDomainName(".dft.gov.uk");
    pageTracker._setAllowLinker(true);
    pageTracker._setAllowHash(false);
    pageTracker._setLocalGifPath("http://www.dft.gov.uk/__utm.gif")
    pageTracker._setLocalRemoteServerMode();
    pageTracker._clearOrganic();
    pageTracker._addOrganic("images.google.com","q");
    pageTracker._addOrganic("images.google.co.uk","q");
    pageTracker._addOrganic("images.google.ie","q");
    pageTracker._addOrganic("google.com","q");
    pageTracker._addOrganic("google.co.uk","q");
    pageTracker._addOrganic("google.ie","q");
    pageTracker._addOrganic("yahoo.com","p");
    pageTracker._addOrganic("uk.search.yahoo.com","p");
    pageTracker._addOrganic("bing.com","q");
    pageTracker._addOrganic("uk.ask.com","q");
    pageTracker._addOrganic("ask.com","q");
    pageTracker._trackPageview();
    } catch(err) {}
</script>
</body>
</html>